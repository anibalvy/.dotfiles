# Kubernetes, kubectl 
#Create a Deployment, expose Service, delete them
#**** from here after, minikube command is optional according kubectl current-context *****

#create a Kubernetes Deployment using an existing image named echoserver
#which is a simple HTTP server and expose it on port 8080 using --port.
kubectl create deployment hello-minikube --image=k8s.gcr.io/echoserver:1.10

#expose service
kubectl expose deployment hello-minikube --type=NodePort --port=8080

#Get the URL of the exposed Service to view the Service details:
minikube service hello-minikube --url
this result can be accesed outside k8s cluster.
 
#get pods
kubectl get pods

#Get components of a namespace
kubectl get all -n <namespace>

#delete service
kubectl delete services hello-minikube

#delete deployment
kubectl delete deployment hello-minikube

#info
kubectl cluster-info
kubectl cluster-info dump

#check config (cluster, context...)
kubectl config view
kubectl config current-context

#If we need to set minikube context, we can do as the following:
kubectl config use-context minikube

#conecting with a config file
kubectl --kubeconfig=<kubeconfig>.yml <cmd>
kubectl --kubeconfig=kubeconfig.yml get nodes

